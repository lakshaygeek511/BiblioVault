<div class="alert-container" *ngIf="registrationSuccess">
  <div class="alert alert-success" role="alert">
    Author Registration Successfully Completed
  </div>
</div>
<div class="alert-container" *ngIf="registrationError">
  <div class="alert alert-danger" role="alert">
    {{registrationError}}
  </div>
</div>
<div class="row align-items-center mb-4">
  <div class="col-md-3 text-center">
    <img src="assets/img/author.jpg" alt="Author" class="author-hero-img-small"/>
  </div>
  <div class="col-md-9">
    <h1 class="display-5">Author Registration</h1>
    <p class="lead">Register and manage your authors. <strong>Made by Lakshay Garg</strong>
      <a href="https://www.linkedin.com/in/lakshay-garg-0b0021194/" target="_blank" class="social-link">
        <i class="bi bi-linkedin"></i>
      </a>
      <a href="https://github.com/lakshaygeek511/BiblioVault" target="_blank" class="social-link">
        <i class="bi bi-github"></i>
      </a>
    </p>
  </div>
</div>
<div class="row">
  <div class="col-md-6">
    <div class="card shadow-sm mb-4">
      <div class="card-body">
        <h4 class="card-title">Author Registration</h4>
        <form [formGroup]="authorRegistrationForm" (ngSubmit)="onSubmit(authorRegistrationForm.value)">
          <div class="form-group mb-3">
            <label for="author_f_name">First Name</label>
            <input type="text" class="form-control" id="author_f_name" formControlName="firstname"
              [class.is-invalid]="authorRegistrationForm.get('firstname').invalid && authorRegistrationForm.get('firstname').touched"/>
            <div class="invalid-feedback" *ngIf="authorRegistrationForm.get('firstname').errors?.required && authorRegistrationForm.get('firstname').touched">
              First name is required
            </div>
            <div class="invalid-feedback" *ngIf="authorRegistrationForm.get('firstname').errors?.minlength && authorRegistrationForm.get('firstname').touched">
              First name must be at least 2 characters long
            </div>
            <div class="invalid-feedback" *ngIf="authorRegistrationForm.get('firstname').errors?.pattern && authorRegistrationForm.get('firstname').touched">
              First name can only contain letters and spaces
            </div>
          </div>
          <div class="form-group mb-3">
            <label for="author_l_name">Last Name</label>
            <input type="text" class="form-control" id="author_l_name" formControlName="lastname"
              [class.is-invalid]="authorRegistrationForm.get('lastname').invalid && authorRegistrationForm.get('lastname').touched"/>
            <div class="invalid-feedback" *ngIf="authorRegistrationForm.get('lastname').errors?.required && authorRegistrationForm.get('lastname').touched">
              Last name is required
            </div>
            <div class="invalid-feedback" *ngIf="authorRegistrationForm.get('lastname').errors?.minlength && authorRegistrationForm.get('lastname').touched">
              Last name must be at least 2 characters long
            </div>
            <div class="invalid-feedback" *ngIf="authorRegistrationForm.get('lastname').errors?.pattern && authorRegistrationForm.get('lastname').touched">
              Last name can only contain letters and spaces
            </div>
          </div>
          <button type="submit" class="btn btn-primary w-100">Register</button>
        </form>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-body scrollable-card">
        <h4 class="card-title">Registered Authors</h4>
        <div *ngIf="!authors?.length" class="empty-message">
          <i class="bi bi-person-badge"></i>
          <p>No authors registered yet</p>
        </div>
        <div class="table-container" *ngIf="authors?.length">
          <div class="table-wrapper">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">First Name</th>
                  <th scope="col">Last Name</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let author of authors">
                  <td>{{author.id}}</td>
                  <td>{{author.firstName}}</td>
                  <td>{{author.lastName}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
